sudo: required
language: bash

install:
  - sudo apt-get install -y vagrant
  - sudo apt-get -y install gcc make linux-headers-$(uname -r) dkms
  - wget -q https://www.virtualbox.org/download/oracle_vbox_2016.asc -O- | sudo apt-key add -
  - wget -q https://www.virtualbox.org/download/oracle_vbox.asc -O- | sudo apt-key add -
  - sudo sh -c 'echo "deb http://download.virtualbox.org/virtualbox/debian $(lsb_release -sc) contrib" >> /etc/apt/sources.list'
  - sudo apt-get update
  - sudo apt-get install virtualbox-4.3
  - VBoxManage -v

script:
  - ifconfig -a | grep inet
  - ifconfig -a
  - vagrant box add bitroid https://vagrantcloud.com/williamyeh/boxes/centos7-docker/versions/1.12.1.20160830/providers/virtualbox.box
  - sudo vagrant up
  - sudo vagrant ssh -c 'wget -O- localhost'
  - exit

after_script:
  - vagrant destroy -f

notifications:
 slack:
   rooms:
     - nothingorganization:GN1JzklSpbMyfZVWcS05U6a0#general
